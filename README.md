# split-color
### Split-plane STORM image analysis
This set of scripts performs spectral demixing-based color assignment for STORM images of spectrally close fluorescent dyes, first reported by [Bossi, et. al (2008)](https://pubs.acs.org/doi/abs/10.1021/nl801471d).  Emission of both dyes is collected simultaneously, passed through a dichroic mirror, and projected onto two halves of a camera.  Each dye has a characteristic intensity ratio between the two light paths, and this ratio is used to assign a color to each localized molecule.  An example optical setup is shown below:

![Optical setup for split-color imaging](https://i.imgur.com/R3H059e.png)

### Requirements:
[STORM image I/O](https://github.com/sjkenny/common) for STORM molecule lists generated with Insight3
- .dax format for raw data files
- output .bin molecule lists from Insight3 (other molecule list formats will have to be imported on a case-by-case basis)
- standard geometric transformation between two light paths as a MATLAB tform struct (can be generated by imaging fluorescent bead sample)

### Usage:
- Split full-frame raw image .dax files using SplitOneSubFolder.exe; drag .exe file into target directory and run
- Analyze each raw image file with single molecule localization software (such as Insight3)
- Run do3steps_warpfwd.m - this will write an output molecule list with colors assigned to categories 1 (for AF647 or similar) and 2 (for CF680 or similar)
